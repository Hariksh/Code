def longestPalindromeSubseq(s):
    dp = {}

    def helper(i,j):

        if i > j:
            return 0
        
        if i == j:
            return 1

        if s[i] == s[j]:
            return 2 + helper(i+1,j-1)

        if (i,j) in dp:
            return dp[(i,j)]

        a = helper(i+1,j)
        b = helper(i,j-1)

        dp[(i,j)]  = max(a,b)
        return dp[(i,j)]

    return helper(0,len(s)-1)
